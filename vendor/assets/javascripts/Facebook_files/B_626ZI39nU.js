/*!CK:764804135!*//*1409802370,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["IzhWZ"]); }

__d("PrivacyRemindersLoggingTypes",[],function(a,b,c,d,e,f){e.exports={ONLY_ME_IMPRESSION:"only_me_impression",ONLY_ME_CONVERSION:"only_me_conversion",EVERYONE_IMPRESSION:"everyone_impression",EVERYONE_CONVERSION:"everyone_conversion",EVERYONE_TESTS_IMPRESSION:"everyone_tests_impression",EVERYONE_TESTS_CONVERSION:"everyone_tests_conversion",PUBLIC_POSTING_FILTER_NUX_IMPRESSION:"public_posting_filter_nux_impression",PUBLIC_POSTING_FILTER_NUX_CONVERSION:"public_posting_filter_nux_conversion",DELTA_EVERYONE_IMPRESSION:"delta_everyone_impression",DELTA_EVERYONE_CONVERSION:"delta_everyone_conversion",DELTA_EVERYONE_OK_BUTTON_CLICKED:"delta_everyone_ok_button_clicked",DELTA_EVERYONE_CHANGE_BUTTON_CLICKED:"delta_everyone_change_button_clicked"};},null);
__d("SuggestionConfig",[],function(a,b,c,d,e,f){e.exports={OG_TAGGER_TYPEAHEAD_BOOTSTRAP:"ogtaggertypeaheadbootstrap",OG_TAGGER_TYPEAHEAD_BOOTSTRAP_NO_RECENT_ACTION:"ogtaggertypeaheadbootstrapnorecentaction",GROUP_POST_COMPOSER:"grouppostcomposer",OG_SUGGESTION_BY_INPUT:"ogsuggestionbyinput"};},null);
__d("TagExpansionButtonConfig",[],function(a,b,c,d,e,f){e.exports={FRIENDS_OF_TAGGED:"friends_of_tagged",TAGGED_ONLY:"tagged_only"};},null);
__d("InstanceProxy",[],function(a,b,c,d,e,f){function g(h){"use strict";this.$InstanceProxy0=h;}g.prototype.getInstance=function(){"use strict";return this.$InstanceProxy0;};e.exports=g;},null);
__d("ComposerXAttachmentButtonBarState",["CSS","DOMQuery","csx","cx"],function(a,b,c,d,e,f,g,h,i,j){var k={trackCityChanges:function(l){var m=l.getComponent('citysharericon');if(m)return m.instance.subscribe('change',function(){k.updateMessageBoxBarState(l);});},updateMessageBoxBarState:function(l){var m=l.getComponent('citysharericon');if(m){var n=h.find(l.getRoot(),"._1dsp");g.conditionClass(n,"_icv",!!m.instance.getValue());}}};e.exports=k;},null);
__d("ComposerXAttachmentUtils",["BrowserSupport","Button","CSS","DataStore","DOMQuery","Event","Focus","Input","Keys","PageTransitions","Run","StickyPlaceholderInput","UserAgent_DEPRECATED","URI","csx","debounce","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x='composer_fixed_placeholder';function y(ba,ca){if(!j.get(ba.element,x,false))ba.instance.setPlaceholder(ca);}function z(ba,ca){var da=p.getMostRecentURI(),ea=t.getNextURI(),fa=da.getQueryData().hasOwnProperty('theater')&&ca.path===ea.path,ga=ea.getQueryData().hasOwnProperty('theater'),ha=a.DialogNavigationStack&&a.DialogNavigationStack.isActiveURI(ea);if(fa||ga||ha){q.onAfterLoad(function(){q.onBeforeUnload(function(){return z(ba,ca);});});return;}if(a.Dialog&&a.Dialog.getCurrent())return;if(ba.offsetParent!==null&&!n.isEmpty(ba))return "You haven't finished your post yet. Do you want to leave without finishing?";}var aa={initMentions:function(ba,ca){y(ba,ca);var da=k.find(ba.element,'textarea.input');m.set(da);},setStickyPlaceholderForMentions:function(ba,ca){if(k.contains(ba.element,document.activeElement)&&i.hasClass(document.activeElement,'DOMControl_placeholder'))document.activeElement.blur();y(ba,ca);},setPlaceholderIsFixed:function(ba,ca){j.set(ba.element,x,!!ca);},setStickyPlaceholderForTypeahead:function(ba,ca){var da=k.find(ba,'.textInput');r.setPlaceholderText(da,ca);},registerInputForLeaveWarning:function(ba){var ca=t.getNextURI();q.onBeforeUnload(function(){return z(ba,ca);});},listenForPostSubmission:function(ba){l.listen(ba,'keydown',function(event){var ca=event.getModifiers(),da=s.osx()?ca.meta:ca.control,ea=k.find(ba.form,"._11b"+'[type="submit"]');if((event.keyCode===o.RETURN)&&da&&h.isEnabled(ea)){ba.blur();if(l.fire(ea,'click'))l.fire(ba.form,'submit');event.preventDefault();}});},disableSaveOnEmpty:function(ba,ca){var da=k.find(ba,'.textInput'),ea=v(function(ga){h.setEnabled(ca,da.value.trim().length!==0);},50),fa=[];fa.push(l.listen(da,'keyup',ea));if(g.hasClipboardEvents()){fa.push(l.listen(da,'cut',ea));fa.push(l.listen(da,'paste',ea));}else{fa.push(l.listen(da,'mouseout',ea));fa.push(l.listen(da,'mousemove',ea));}q.onUnload(function(){for(var ga=0;ga<fa.length;ga++)fa[ga].remove();fa=null;});}};e.exports=aa;},null);
__d("AudienceSelectorTags",[],function(a,b,c,d,e,f){var g={},h={hasTags:function(i){return g.hasOwnProperty(i);},setHasTags:function(i){if(i)g[i]=true;}};e.exports=h;},null);
__d("DynamicIconSelector",["Button","CSS","DOM","SelectorDeprecated"],function(a,b,c,d,e,f,g,h,i,j){var k={swapIcon:function(l){var m=j.getSelectedOptions(l)[0],n=m&&i.scry(m,'.itemIcon')[0],o=j.getSelectorButton(l);if(n){g.setIcon(o,n.cloneNode(true));}else{var p=i.scry(o,'.img')[0];p&&i.remove(p);}h.conditionClass(o,'uiSelectorChevronOnly',!n);}};j.subscribe('change',function(l,m){var n=m.selector;if(h.hasClass(n,'dynamicIconSelector'))k.swapIcon(n);});e.exports=k;},null);
__d("intlList",["React","fbt","invariant","keyMirror"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=function(m,n){n=n||k.CONJUNCTIONS.AND;var o=m.length;if(o===0){return '';}else if(o===1)return m[0];var p=m[o-1],q=m[0];for(var r=1;r<o-1;++r)q=h._("{previous items}, {following items}",[h.param("previous items",q),h.param("following items",m[r])]);return l(q,p,n);};function l(m,n,o){switch(o){case k.CONJUNCTIONS.AND:return (h._("{list of items} and {last item}",[h.param("list of items",m),h.param("last item",n)]));case k.CONJUNCTIONS.OR:return (h._("{list of items} or {last item}",[h.param("list of items",m),h.param("last item",n)]));case k.CONJUNCTIONS.NONE:return (h._("{list of items}, {last item}",[h.param("list of items",m),h.param("last item",n)]));default:i(false);}}k.CONJUNCTIONS=j({AND:null,NONE:null,OR:null});e.exports=k;},null);
__d("PrivacySelectorOption",["Arbiter","AudienceSelectorTags","CSS","CurrentUser","DOM","DynamicIconSelector","Parent","PrivacyConst","SelectorDeprecated","copyProperties","csx","fbt","intlList","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function u(v,w){if(!v)throw new Error("there's no DOM option. Config data: ",w);this._elem=v;this._selector=m.byClass(this._elem,'audienceSelector');if(!this._selector)return;this._priv_base_val=w.priv_base_val;this._audienceCount=w.audience_count||"";this._hasRestricted=w.has_restricted||false;this._isCustom=w.is_custom||false;this._includedAudience=w.included||"";this._excludedAudience=w.excluded||{};this._excludedTaggees={};this._tagExpansionBehavior=w.tag_expansion_behavior||n.TagExpansion.NONE;this._plusLabel=k.scry(v,'.plusLabel')[0];this._audienceCountLabel=k.scry(v,'.audienceCountLabel')[0];this._taggedIDs=[];this._tags=[];this._recalculateTooltipAndLabel();this._updateOptionCountLabel();this._updateSelector();g.subscribe('Composer/changedtags',function(x,y){var z=i.hasClass(this._selector,'composerAudienceSelector');if(!this._getChangedData()||!z)return;this._tags=[];this._taggedIDs=[];for(var aa=0;aa<y.withTags.length;aa++){var ba=y.withTags[aa].info;if(ba.uid!=j.getID()){this._tags.push(ba.text);this._taggedIDs.push(ba.uid);}}for(aa in y.mention)if(y.mention[aa].type=='user'&&y.mention[aa].uid!=j.getID()){this._tags.push(y.mention[aa].text);this._taggedIDs.push(y.mention[aa].uid);}var ca=k.scry(document.body,"._5l7q")[0];ca&&!!this._taggedIDs.length&&i.hide(ca);this._updateOptionCountLabel();var da=this._recalculateTooltipAndLabel();if(da&&o.isOptionSelected(this._elem)){this._updateSelector();g.inform('SelectedPrivacyOption/changed',this._getChangedData());}}.bind(this));o.listen(this._selector,'change',this._updateSelector.bind(this));}p(u.prototype,{updateOption:function(v,w,x,y,z){this._priv_base_val=v;this._includedAudience=w;this._excludedAudience=x;this._tagExpansionBehavior=y;this._audienceCount=z;this._recalculateTooltipAndLabel();this._updateOptionCountLabel();return {label:this._label,tooltip:this._tooltip};},_recalculateTooltipAndLabel:function(){var v=this._label;this._label=this._getNewSelectorLabel();var w=this._tooltip;this._tooltip=this._getNewTooltip();return (w!=this._tooltip)||(v!=this._label);},_getNewTooltip:function(){if(this._isCustom)return this._recalcCustomTooltip();switch(this._priv_base_val){case n.FriendsValue.ALL_FRIENDS:return this._recalcFriendsTooltip();case n.FriendsValue.FRIENDS_MINUS_ACQUAINTANCES:return this._recalcFriendsMinusTooltip();case n.FriendsValue.SELF:var v=this._getTagExpansionText();return v?v:this._getIncludedAudience();default:return this._recalcCustomTooltip();}},_getNewSelectorLabel:function(){var v=this._elem.getAttribute('data-label').replace(/\(.*\)/,"");if(this._showAudienceCount()){var w=' ('+this._audienceCount+')';v+=w;}if(this._isTagExpanded())v+=' (+)';return v;},_updateOptionCountLabel:function(){if(this._audienceCountLabel){if(this._showAudienceCount()){var v=' ('+this._audienceCount+')';k.setContent(this._audienceCountLabel,v);}i.conditionShow(this._audienceCountLabel,this._showAudienceCount());}this._plusLabel&&i.conditionShow(this._plusLabel,this._isTagExpanded());},_getChangedData:function(){return {tags:this._taggedIDs,privacy:this._priv_base_val};},_showAudienceCount:function(){return (this._audienceCountLabel&&this._audienceCount&&this._audienceCount.length>0);},_isTagExpanded:function(){var v=this._getTagExpansionBehavior(),w=!!this._taggedIDs.length||this._alreadyHasTags();return (w&&v!=n.TagExpansion.NONE);},_alreadyHasTags:function(){var v=k.scry(this._selector,'*[data-oid]')[0];v=v&&v.getAttribute('data-oid');return v&&h.hasTags(v);},_updateSelector:function(){if(o.isOptionSelected(this._elem)){var v=i.hasClass(this._selector,'composerAudienceSelector');v&&o.setButtonLabel(this._selector,this._label);o.setButtonTooltip(this._selector,this._tooltip);l.swapIcon(this._selector);return false;}return true;},_isSharedAlbum:function(){var v=k.scry(this._selector,'*[data-shared-album]')[0];return v&&v.getAttribute('data-shared-album');},_getTagExpansionBehavior:function(){if(this._tagExpansionBehavior)return this._tagExpansionBehavior;var v=this._priv_base_val===n.FriendsValue.SELF,w=this._priv_base_val===n.FriendsValue.EVERYONE;if((v&&this._isSharedAlbum())||w){return n.TagExpansion.NONE;}else if(this._priv_base_val<n.FriendsValue.ALL_FRIENDS)return n.TagExpansion.TAGGEES;return n.TagExpansion.FRIENDS_OF_TAGGEES;},_getTagExpansionText:function(){var v=this._getTagExpansionBehavior();if(!!this._taggedIDs.length||this._alreadyHasTags()){if(v==n.TagExpansion.FRIENDS_OF_TAGGEES){return "friends of anyone tagged";}else if(v==n.TagExpansion.TAGGEES)return "Anyone tagged";return '';}return '';},_getIncludedAudience:function(){if(this._includedAudience)return this._includedAudience;var v=this._priv_base_val===n.FriendsValue.SELF;if(v&&!this._isSharedAlbum())return "Only Me";return this._elem.getAttribute('data-label');},_getCombinedSentence:function(v,w){if(!w)return v;return r._("{list of people who can see this}; Except: {list of people who cannot see this}",[r.param("list of people who can see this",v),r.param("list of people who cannot see this",w)]);},_recalcFriendsTooltip:function(){var v=this._tags.length;if(v>2){return this._hasRestricted?"Your friends and friends of anyone tagged; Except: Restricted":"Your friends and friends of anyone tagged";}else if(v==2){if(this._hasRestricted){return t._("Your friends, {user}'s friends and {user2}'s friends; Except: Restricted ",{user:this._tags[0],user2:this._tags[1]});}else return t._("Your friends, {user}'s friends and {user2}'s friends",{user:this._tags[0],user2:this._tags[1]});}else if(v==1){if(this._hasRestricted){return t._("Your friends and {user}'s friends; Except: Restricted",{user:this._tags[0]});}else return t._("Your friends and {user}'s friends",{user:this._tags[0]});}else return this._hasRestricted?"Your friends; Except: Restricted":"Your friends";},_recalcFriendsMinusTooltip:function(){var v=this._tags.length;if(v>0||this._alreadyHasTags()){var w="friends of anyone tagged",x=r._("{people who can see this}, {list of more people who can see this}",[r.param("people who can see this","Your friends"),r.param("list of more people who can see this",w)]),y="Acquaintances";if(this._hasRestricted)y=r._("{Name of Acquaintances friend list}, {restricted}",[r.param("Name of Acquaintances friend list",y),r.param("restricted","Restricted")]);return this._getCombinedSentence(x,y);}else{if(this._hasRestricted)return "Friends; Except: Acquaintances, Restricted";return "Friends except Acquaintances";}},_recalcCustomTooltip:function(){var v=this._getIncludedAudience(),w=this._getTagExpansionText();if(w)v=r._("{list of people who can see this}, {list of additional people who can see this}",[r.param("list of people who can see this",v),r.param("list of additional people who can see this",w)]);for(var x=0;x<this._taggedIDs.length;x++){y=this._taggedIDs[x];if(y in this._excludedAudience){delete this._excludedAudience[y];this._excludedTaggees[y]=this._tags[x];break;}}for(var y in this._excludedTaggees)if(this._excludedTaggees.hasOwnProperty(y))if(this._taggedIDs.indexOf(y)===-1){this._excludedAudience[y]=this._excludedTaggees[y];delete this._excludedTaggees[y];break;}var z=[];for(x in this._excludedAudience)if(this._excludedAudience.hasOwnProperty(x))z.push(this._excludedAudience[x]);return this._getCombinedSentence(v,s(z));}});e.exports=u;},null);
__d("XPrivacyCustomDialogControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/privacy\/custom_dialog\/",{id:{type:"String",required:true},option_id:{type:"String",required:true},autosave:{type:"Bool"},explain_tags:{type:"Bool"},limit_community:{type:"Bool"},limit_facebook:{type:"Bool"},limit_fof:{type:"Bool"},limit_tagexpand:{type:"Bool"},is_new_privacy_selector:{type:"Bool"},render_location:{type:"Int"},content_type:{type:"String"},post_param:{type:"String"},privacy_data:{type:"String"},source:{type:"String"},tags:{type:"IntVector"},tag_expansion_button:{type:"String"},__asyncDialog:{type:"Int"}});},null);
__d("CustomPrivacyOptionController",["Arbiter","AsyncDialog","AsyncRequest","DOM","Event","Form","Parent","PrivacyConst","PrivacySelectorOption","SelectorDeprecated","XPrivacyCustomDialogControllerURIBuilder","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(t,u){if(!t)return;setTimeout((function(){this._selector=m.byClass(t,'audienceSelector');if(!this._selector)return;this.initCustomState(t,u.option_id,u.id);var v={priv_base_val:u.base_audience_value,audience_count:u.audience_count,is_custom:true,included:u.included_audience,excluded:u.excluded_audience,tag_expansion_behavior:u.tag_expansion_behavior};this._optionJSInstance=new o(t,v);k.listen(t,'click',function(event){this.openCustomDialog(event,u.option_id,u.explain_tags,u.autosave,u.limit_community,u.limit_facebook,u.limit_fof,u.limit_tagexpand,u.source);}.bind(this));p.listen(this._selector,'select',function(w){if(w.option._id!=this._id)this.clearCustomState();}.bind(this));}).bind(this),0);}r(s,{_instances:{},update:function(t,u,v,w,x,y,z,aa,ba){var ca=s._instances[t];ca._update(u,v)._updateOption(v,x,y,z,aa,ba);g.inform('Form/change',{node:ca._container});},getData:function(t){var u=s._instances[t];return u&&u._privacyData;},setPrivacyData:function(t,u,v){s._instances[t]._update(u,v);}});r(s.prototype,{_updateOption:function(t,u,v,w,x,y){var z=p.getOption(this._selector,t)||p.getOption(this._selector,n.BaseValue.CUSTOM+''),aa=this._optionJSInstance.updateOption(u,v,w,x,y);g.inform('CustomPrivacyOptionController/update',{selector:this._selector,option:z,tooltip:aa.tooltip,label:aa.label});return this;},_update:function(t,u){var v=u==n.BaseValue.CUSTOM||!p.getOption(this._selector,u),w=this._selector.getAttribute('data-name');this.updateCustomState(t,v,w);return this;},initCustomState:function(t,u,v){s._instances[u]=this;this._container=j.find(t,'.customPrivacyInputs');this._id=v;this._privacyData={};var w=l.serialize(this._container);if(w.audience)this._privacyData=w.audience[v];return t;},openCustomDialog:function(event,t,u,v,w,x,y,z,aa){var ba=new q().setString('option_id',t).setString('id',this._id).setString('privacy_data',JSON.stringify(this._privacyData)).setBool('explain_tags',u).setBool('autosave',v).setBool('limit_community',w).setBool('limit_facebook',x).setBool('limit_fof',y).setBool('limit_tagexpand',z).setBool('is_new_privacy_selector',false).setString('source',aa).getURI(),ca=new i(ba);ca.setRelativeTo(event.getTarget());h.send(ca,function(da){da.subscribe('cancel',function(){g.inform('CustomPrivacyOptionController/cancel',{selector:this._selector});}.bind(this));}.bind(this));},updateCustomState:function(t,u,v){this.clearCustomState();this._privacyData=r({},t);if(u)if(v){v=v.slice(0,-'[value]'.length);var w={};w[v]=t;l.createHiddenInputs(w,this._container,null,true);}},clearCustomState:function(){this._privacyData={};j.empty(this._container);}});e.exports=s;},null);
__d("AudienceSelector",["Arbiter","AudienceSelectorTags","CSS","CustomPrivacyOptionController","DOM","DynamicIconSelector","PrivacyConst","SelectorDeprecated"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o={};n.subscribe('select',function(q,r){if(!i.hasClass(r.selector,'audienceSelector'))return;var s=n.getOptionValue(r.option);r.value=s;g.inform('AudienceSelector/changed',r);if(s==m.BaseValue.CUSTOM&&!i.hasClass(r.option,'noDialog')){n.toggle(r.selector);return false;}g.inform('AudienceSelector/changedNonCustomDialogButton',r);if(i.hasClass(r.selector,'dataTooltip')){var t=k.find(r.option,'.itemAnchor').getAttribute('data-tooltip');n.setButtonTooltip(r.selector,t||null);}if(!i.hasClass(r.option,'specialOption'))return;var u=k.find(r.option,'a').getAttribute('data-type');if(i.hasClass(r.option,'moreOption')){i.addClass(r.selector,u);i.addClass(r.selector,'showSecondaryOptions');return false;}else if(i.hasClass(r.option,'returnOption')){i.removeClass(r.selector,'showSecondaryOptions');i.removeClass(r.selector,'friendList');return false;}});var p={keepSynchronized:function(q,r){o[q]||(o[q]={});o[q][r.id]=r;},setHasTags:function(q){h.setHasTags(q);},getComposerInstance:function(){var q=o['PrivacyLiteNav/audience'];if(q){var r;for(var s in q){r=q[s];return r;}}return null;},forceAndKeepSynchronized:function(q,r){p.keepSynchronized(q,r);g.inform('AudienceSelector/update',{option:n.getSelectedOptions(r)[0],selector:r});},get:function(q){if(i.hasClass(q,'audienceSelector'))return q;var r=k.scry(q,'div.audienceSelector');if(r.length!=1)return;return r[0];},setAudience:function(q,r){var s=p.get(q);n.loadMenu(s,function(t){n.setSelected(s,r.toString());l.swapIcon(s);var u=n.getSelectedOptions(s);g.inform('AudienceSelector/changed',{option:u[0],selector:s});});}};g.subscribe('CustomPrivacyOptionController/update',function(q,r){if(!i.hasClass(r.selector,'audienceSelector'))return;n.setSelected(r.selector,n.getOptionValue(r.option));l.swapIcon(r.selector);var s=i.hasClass(r.selector,'composerAudienceSelector'),t=i.hasClass(r.selector,'inlineAudienceWidget');if(s||t)n.setButtonLabel(r.selector,r.label);n.setButtonTooltip(r.selector,r.tooltip);g.inform('AudienceSelector/update',r);});g.subscribe(['AudienceSelector/changed','AudienceSelector/update'],function(event,q){var r=n.getOptionValue(q.option),s={};if(r==m.BaseValue.CUSTOM){if(event=='AudienceSelector/changed')return;s=j.getData(q.option.id);if(!s)return;}else if(i.hasClass(q.selector,'inlineAudienceWidget'))n.setButtonLabel(q.selector,q.option.innerText);for(var t in o){var u=o[t];if(u[q.selector.id]){g.inform('AudienceSelector/syncNonSelectorIcon',{category:t});for(var v in u){var w=u[v];if(!w||q.selector===w)continue;if(n.getValue(w)!==r){n.setSelected(w,r);l.swapIcon(w);}if(r==m.BaseValue.CUSTOM){var x=n.getOption(w,m.BaseValue.CUSTOM+'');if(x){j.setPrivacyData(x.id,s,r);n.setButtonTooltip(w,q.tooltip);}}}}}});e.exports=p;},null);
__d("DialogExpansion",["Animation","DialogPosition","LoadingDialogDimensions","Style"],function(a,b,c,d,e,f,g,h,i,j){var k=i.WIDTH,l=i.HEIGHT,m=400,n=100;function o(p){"use strict";this._dialog=p;this._fixedTopMargin=p.getFixedTopPosition();}o.prototype.enable=function(){"use strict";this._subscription=this._dialog.subscribe('aftershow',this._onAfterShow.bind(this));};o.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};o.prototype.setTargetWidth=function(p){"use strict";this._targetWidth=p;};o.prototype._onAfterShow=function(){"use strict";this._outer=this._dialog.getContentRoot();this._inner=this._dialog.getInnerContent();if(isNaN(parseInt(j.get(this._inner,'height'),10)))return;var p=h.calculateTopMargin(k,l);j.apply(this._inner,{opacity:'0',width:this._dialog.getWidth()+'px'});j.apply(this._outer,{width:k+'px',height:l+'px',marginTop:p+'px',overflow:'hidden'});setTimeout(function(){var q=parseInt(this._dialog.getWidth(),10);if(this._targetWidth)q=this._targetWidth;var r=parseInt(j.get(this._inner,'height'),10),s;if(this._fixedTopMargin){s=this._fixedTopMargin;}else s=h.calculateTopMargin(q,r);this._growThenFade(q,r,s);}.bind(this),100);};o.prototype._growThenFade=function(p,q,r){"use strict";new g(this._outer).to('width',p).to('height',q).to('marginTop',r).duration(m).ease(g.ease.both).ondone(this._fadeIn.bind(this)).go();};o.prototype._fadeIn=function(){"use strict";j.set(this._outer,'overflow','');j.set(this._outer,'height','');new g(this._inner).from('opacity',0).to('opacity',1).ondone(function(){this._dialog.inform('afterexpand');}.bind(this)).duration(n).go();};e.exports=o;},null);
__d("XPrivacyAudienceAlignmentLoggingControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/privacy\/audience_alignment\/log\/",{client_time:{type:"Int"},event:{type:"Enum",required:true},product:{type:"Enum",required:true}});},null);
__d("AudienceAlignment",["Arbiter","AsyncRequest","AudienceSelector","ComposerXStore","ContextualDialog","CSS","cx","DialogExpansion","DOM","Event","Focus","Keys","ModalMask","PrivacyConst","SelectorDeprecated","Style","XPrivacyAudienceAlignmentLoggingControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x=false,y,z;function aa(wa,xa){wa.setContext(xa);wa.show();}function ba(wa,xa){var ya=v.get(xa.getContentRoot(),'margin-top');wa.setWidth(this.aaa_dialog_width);wa.show();v.set(wa.getContentRoot(),'margin-top',ya);}var ca='wwwtux',da='wwwroadblock',ea='exposed',fa='friends_sticky',ga='public_sticky',ha='selector',ia='holdout',ja='dismissal',ka='learn_more',la='blur';function ma(wa,event){var xa=new w().setEnum('product',wa).setEnum('event',event).setInt('client_time',Date.now()).getURI(),ya=new h().setURI(xa);ya.send();}function na(wa,xa,ya,za){if(x)return false;if(!o.contains(document.body,wa.getRoot()))return false;var ab=j.get(xa,'maininput');if(ab&&ab.instance.getValue())return false;if(!ya)return false;var bb=null;if(za){bb=za.getSelectedBaseValue();}else bb=parseInt(u.getValue(ya),10);return (bb===t.BaseValue.EVERYONE);}function oa(){var wa=o.scry(document.body,'#pagelet_timeline_recent');if(wa.length>=1){var xa=o.scry(wa[0],'li.fbTimelineComposerCapsule');if(xa.length>=1)return xa[0];}return null;}function pa(wa,xa,ya,za){var ab;if(za){ab=za.getMenuElement();}else{var bb=o.find(ya,'div.audienceSelector');ab=o.scry(bb,'div.wrap');}if(ab.length<1)return;var cb=oa(),db;if(za){za.subscribeOnce('open',function(){if(cb)l.addClass(cb,"_2wc-");k.setContext(xa,ab);xa.setOffsetY(30);xa.show();});}else db=u.listen(bb,'open',function(){var gb=o.scry(ab[0],'div.uiSelectorMenuWrapper');if(gb.length>0){if(cb)l.addClass(cb,"_2wc-");k.setContext(xa,gb[0]);xa.setOffsetX(12);xa.show();}else s.hide();u.unsubscribe(db);});if(za){za.getPopover().subscribeOnce('hide',function(){qa(xa,ab,cb,wa);});}else var eb=u.listen(bb,'close',function(){qa(xa,ab[0],cb,wa);u.unsubscribe(eb);});if(za){l.addClass(ab,"_35mn");var fb=za.getTriggerButtonElement();l.addClass(fb,"_35mn");}else l.addClass(ab[0],"_35mn");setTimeout(function(){s.show();v.set(s.getNode(),'opacity','0.3');v.set(s.getNode(),'background-color','rgb(0,0,0)');if(za){za.openSelectorExpanded();}else u.toggle(bb);},20);}function qa(wa,xa,ya,za){s.hide();wa.hide();l.removeClass(xa,"_35mn");if(ya)l.removeClass(ya,"_2wc-");q.set(o.find(za.getRoot(),'textarea.input'));}function ra(wa,xa){wa.unsubscribe(y);wa.hide();q.set(o.find(xa.getRoot(),'textarea.input'));}function sa(wa){var xa=ua(wa);return xa&&xa.element;}function ta(wa){var xa=ua(wa);return xa&&xa.instance&&xa.instance.getInstance().getInstance();}function ua(wa){return j.get(wa,'mainprivacywidget');}var va={abort:function(){x=true;},startOnComposerFocus:function(wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb){var mb=da;if(ib)mb=ca;g.subscribe('composer/focus',function(){var nb=sa(lb),ob=ta(lb);if(na(xa,lb,nb,ob))if(wa){ma(mb,ia);}else{ma(mb,ea);setTimeout(function(){ya.show();var pb=gb.parentElement;this.aaa_dialog_width=ya.getWidth()+pb.offsetWidth-490;var qb=new n(ya);qb.setTargetWidth(this.aaa_dialog_width);qb._onAfterShow();q.set(ya.getRoot());},100);}});p.listen(fb,'click',function(){var nb=sa(lb),ob=ta(lb);ra(ya,xa);if(ob){ob.selectOption(t.PostParam.FRIENDS);}else i.setAudience(xa.getRoot(),t.BaseValue.ALL_FRIENDS);aa(za,nb);ma(mb,fa);});p.listen(gb,'click',function(){var nb=sa(lb),ob=ta(lb);ra(ya,xa);if(ob){ob.selectOption(t.PostParam.EVERYONE);}else i.setAudience(xa.getRoot(),t.BaseValue.EVERYONE);aa(ab,nb);ma(mb,ga);});p.listen(hb,'click',function(){ya.subscribe('hide',function(){var nb=sa(lb),ob=ta(lb);if(bb)pa(xa,bb,nb,ob);});ra(ya,xa);ma(mb,ha);});if(ib)p.listen(ib,'click',function(){var nb=sa(lb);ra(ya,xa);ma(mb,ja);if(cb)aa(cb,nb);});y=ya.subscribe('hide',function(){var nb=sa(lb);q.set(o.find(xa.getRoot(),'textarea.input'));ma(mb,ja);if(db)aa(db,nb);});z=ya.subscribe('blur',function(){ma(mb,la);});p.listen(jb,'click',function(event){ba(eb,ya);ma(mb,ka);});p.listen(kb,'click',function(event){eb.hide();});if(ib)p.listen(eb.getRoot(),'keydown',function(event){if(p.getKeyCode(event)===r.ESC){eb.hide();p.kill(event);}});}};e.exports=va;},null);
__d("ComposerXNUX",["AsyncRequest","ComposerXDragDrop","CSS","DOM","Event","SubscriptionsHandler","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o={},p={};function q(s,t,u){var v=u.dataTransfer.items;if(v){var w=h.filterImages(v);if(!w.length)return;}r.acknowledgeDialog(s,t);}var r={CAMERA_NUX:'camera_nux_seen',ADD_MORE_NUX:'add_more_nux_seen',HMU_NUX:'hmu_nux_seen',HMU_POST_NUX:'hmu_post_nux_seen',FACEREC_SUGGESTIONS_NUX:'facerec_suggestions_nux_seen',TAGGING_FLYOUT_NUX:'tagging_flyout_nux_seen',OGCOMPOSER_NEWVERBS_NUX:'ogcomposer_newverbs_nux_seen',OGCOMPOSER_NEW_ICON_PICKER_NUX:'minutiae_icon_picker_nux_seen',SHARER_MINUTIAE_NUX:'sharer_minutiae_nux_seen',onInit:function(s,t,u){if(o[u])return;p[u]=p[u]||new l();var v=p[u];v.engage();var w=s.getRoot();i.addClass(w,"_4bka");var x=j.scry(w,"._3o-a");x.forEach(function(y){v.addSubscriptions(k.listen(y,'click',r.acknowledgeDialog.bind(null,u,s)));});if(u==r.CAMERA_NUX)v.addSubscriptions(k.listen(document,'dragenter',q.bind(null,u,s)));v.addSubscriptions(s.subscribe('cancel',r.sendMarkSeenRequest.bind(null,u)),s.subscribe('hide',v.release.bind(v)));s.setContext(t).show();},acknowledgeDialog:function(s,t){r.sendMarkSeenRequest(s);t.hide();},sendMarkSeenRequest:function(s){if(!o[s]){new g('/ajax/photos/composer/mark_nux_seen.php').setData({type:s}).send();o[s]=true;}},onCleanup:function(s){s.hide();}};e.exports=r;},null);
__d("PagesComposerEntryLogger",["Event","PagesBanzaiLogger"],function(a,b,c,d,e,f,g,h){function i(j){"use strict";this.$PagesComposerEntryLogger0=j;}i.prototype.registerForContentEntryEvents=function(j){"use strict";var k=function(){var l={page_id:this.$PagesComposerEntryLogger0,event_name:'composer_content_entry',pages_composer:1,target_id:this.$PagesComposerEntryLogger0};h.logData(l,h.VITAL_WAIT);this.unregister();};this.$PagesComposerEntryLogger1=g.listen(j,{paste:k.bind(this),keydown:k.bind(this)});};i.prototype.unregister=function(){"use strict";if(!this.$PagesComposerEntryLogger1)return;for(var event in this.$PagesComposerEntryLogger1)this.$PagesComposerEntryLogger1[event].remove();this.$PagesComposerEntryLogger1=null;};e.exports=i;},null);
__d("XPrivacyRemindersImpressionLoggingControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/privacy\/reminders\/log_imp\/",{type:{type:"String",required:true}});},null);
__d("ComposerXBootloadStatusAttachment",["Arbiter","AsyncRequest","AudienceAlignment","Bootloader","ComposerXAttachment","ComposerXAttachmentButtonBarState","ComposerXController","ComposerXDragDrop","ComposerXMarauderLogger","ComposerXNUX","ComposerXStore","CSS","DOM","DOMQuery","Event","Focus","PagesComposerEntryLogger","Parent","PlaceholderListener","PrivacyConst","PrivacyRemindersLoggingTypes","SelectorDeprecated","SuggestionConfig","URI","copyProperties","csx","cx","getActiveElement","requestAnimationFrame","XPrivacyRemindersDismissControllerURIBuilder","XPrivacyRemindersImpressionLoggingControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){var la={only_me:{PRIVACY_CONSTANT:[z.BaseValue.SELF],LOG_IMPRESSION:aa.ONLY_ME_IMPRESSION,LOG_CONVERSION:aa.ONLY_ME_CONVERSION},everyone:{PRIVACY_CONSTANT:[z.BaseValue.EVERYONE],LOG_IMPRESSION:aa.EVERYONE_IMPRESSION,LOG_CONVERSION:aa.EVERYONE_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},delta_everyone:{PRIVACY_CONSTANT:[z.BaseValue.EVERYONE],LOG_IMPRESSION:aa.DELTA_EVERYONE_IMPRESSION,LOG_CONVERSION:aa.DELTA_EVERYONE_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},everyone_tests:{PRIVACY_CONSTANT:[z.BaseValue.EVERYONE],LOG_IMPRESSION:aa.EVERYONE_TESTS_IMPRESSION,LOG_CONVERSION:aa.EVERYONE_TESTS_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},public_posting_filter_nux:{PRIVACY_CONSTANT:[z.BaseValue.EVERYONE],LOG_IMPRESSION:aa.PUBLIC_POSTING_FILTER_NUX_IMPRESSION,LOG_CONVERSION:aa.PUBLIC_POSTING_FILTER_NUX_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true}},ma={};for(var na in k)if(k.hasOwnProperty(na))pa[na]=k[na];var oa=k===null?null:k.prototype;pa.prototype=Object.create(oa);pa.prototype.constructor=pa;pa.__superConstructor__=k;function pa(qa,ra){"use strict";k.call(this);this._root=qa;this._config=ra;this._privacyReminders={};this._onSelectorChange=this._onSelectorChange.bind(this);}pa.prototype.getRoot=function(){"use strict";return this._root;};pa.prototype.initWithComponents=function(qa){"use strict";ma[this._composerID]=this;this._attachmentIsActive=true;var ra=t.find(this.getComponent('maininput').element,'textarea.input'),sa=t.scry(x.byClass(this.getRoot(),"_119"),'li.'+this.attachmentClassName)[0];this._focusListener=u.listen(ra,'focus',this._onFocus.bind(this));if(qa&&this._config.targetIsPage){this._pagesComposerEntryLogger=new w(this._config.targetID);this._pagesComposerEntryLogger.registerForContentEntryEvents(ra);}if(this._fullVersion){this._fullInitWithComponents();}else if(!this._bootloading)if(t.contains(this._root,ha())){this._onFocus();}else if(sa)this._clickListener=u.listen(sa,'click',function(){v.set(ra);}.bind(this));this._dragEnterHandler=g.subscribe('dragenter',function(xa,ya){if(ya.element==this._root){i.abort();var za=ya.event.dataTransfer.items,ab;if(za)ab=n.filterImages(za);if(ab&&ab.length>0){v.set(ra);}else{var bb=x.byClass(this._root,'focus_target');y.expandInput(bb);this._onFocus();}}}.bind(this));this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(!qa)v.set(ra);var ta=this.getComponent('prompt_selector');if(ta)ta.instance.registerInput(this.getComponent('maininput'),this._config.mentionsPlaceholder);if(this._config.plus_version){this._dragdrop=new n(this._root,this._composerID,this._config.targetID);this._dragdrop.enableURLDropping();}var ua=this.getComponent('mainprivacywidget');this._privacyWidgetElement=ua.element;this._newPrivacyWidgetInstance=ua.instance&&ua.instance.getInstance().getInstance();if(this._newPrivacyWidgetInstance){var va=this.getComponent('maininput').instance&&this.getComponent('maininput').instance.getMentions(),wa=this.getComponent('tagExpansionButton');(wa&&wa.instance)&&wa.instance.listenToPrivacy(this._newPrivacyWidgetInstance,va);}if(this._config.postActionsButton!=null)this._config.postActionsButton.initHiddenInputs(this.getComponent('pabhiddeninputs').instance);};pa.prototype._fullInitWithComponents=function(qa){"use strict";if(qa&&qa.show_tag_expansion_reminder){j.loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper","URI","ComposerTagReminder"],this._bootloadModules.bind(this));}else j.loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper","URI"],this._bootloadModules.bind(this));Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this);if(this._setEveryonePrivacyImpression)this._showPrivacyReminder('everyone');if(this._privacyReminders.delta_everyone&&this._privacyReminders.delta_everyone.dialog){var ra=this._privacyReminders.delta_everyone.dialog.getContent();if(ra){var sa=t.scry(ra,'.photoText')[0],ta=t.scry(ra,'.postText')[0];g.subscribe('multi-upload/images-added',function(){sa&&r.show(sa);ta&&r.hide(ta);}.bind(this));g.subscribe('multi-upload/all-images-removed',function(){sa&&r.hide(sa);ta&&r.show(ta);}.bind(this));}}if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.subscribe('changed',this._onSelectorChange);}else ba.subscribe('select',this._onSelectorChange);};pa.prototype._bootloadModules=function(qa,ra,sa,ta,ua){"use strict";this._tagger.init(this);this._privacyWidgetTags=new qa(this);if(ua){this._tagExpansionReminder=new ua(this._root);this._tagExpansionReminder.listen();}l.trackCityChanges(this);var va=t.find(this.getComponent('maininput').element,'textarea.input');if(!this._scraper){this._scraper=new ra(va);this._scraper.subscribe('match',function(xa,ya){var za=this._getScraperEndpoint();za.addQueryData({scrape_url:encodeURIComponent(ya.url),remove_url:this._config.remove_url,attachment_class:this._config.classname});m.getAttachment(this._root,za.toString());}.bind(this));}this._scraper.enable();this._scraper.check();if(this._config.useSuggestionFramework){var wa=s.scry(this._root,"._4-jj");if(!this._inputSuggestionScraper){this._inputSuggestionScraper=new sa(this._tagger,wa[0],false);this._inputSuggestionScraper.setInputTriggerConfig(ca.OG_SUGGESTION_BY_INPUT,va);}if(!this._bootloadSuggestionScraper&&this._config.recentActionUseSuggestionFramework){this._bootloadSuggestionScraper=new sa(this._tagger,wa[0],true);this._bootloadSuggestionScraper.setBootloadTriggerConfig(ca.OG_TAGGER_TYPEAHEAD_BOOTSTRAP);}}};pa.prototype._showPrivacyReminder=function(qa){"use strict";var ra=this,sa=this._privacyReminders[qa],ta=la[qa],ua=null;if(this._newPrivacyWidgetInstance){ua=this._newPrivacyWidgetInstance.getSelectedBaseValue();}else ua=parseInt(ba.getValue(this._privacyWidgetElement),10);if(!sa||!sa.dialog||sa.shown){if(ua===z.BaseValue.EVERYONE&&this._setEveryonePrivacyImpression){this._sendSetEveryonePrivacyImpression();this._setEveryonePrivacyImpression=false;}return;}if(ta.PRIVACY_CONSTANT.indexOf(ua)===-1)return;sa.dialog.setContext(this._privacyWidgetElement).show();sa.shown=true;this._privacyReminderShown=true;if(ta.LOG_IMPRESSION){var va=(new ka()).setString('type',ta.LOG_IMPRESSION).getURI();new h(va).send();}if(ta.LOG_IMPRESSION_TO_DISMISS_ENDPOINT)if(qa==='delta_everyone'||qa==='only_me'){var wa=(new ja()).setString('type',qa).getURI();new h(wa).send();}else new h('/ajax/privacy/reminders/dismiss').setData({type:qa,dismiss_type:'impression'}).send();var xa=function(event){var ya=r.hasClass(event.target,'layerConfirm')||t.scry(event.target,'^.layerConfirm').length===1,za=r.hasClass(event.target,'layerButton')||t.scry(event.target,'^.layerButton').length===1;if(ya&&qa!=='public_posting_filter_nux'){if(qa==='delta_everyone'||qa==='only_me'){var ab=(new ka()).setString('type',aa.DELTA_EVERYONE_OK_BUTTON_CLICKED).getURI();new h(ab).send();}return;}if(qa==='delta_everyone'||qa==='only_me'){var bb=(new ja()).setString('type',qa).getURI();new h(bb).send();}else new h('/ajax/privacy/reminders/dismiss').setData({type:qa,hide:za}).send();sa.events.forEach(function(db){db.remove();});sa.events=[];sa.dialog.hide();this._privacyReminderShown=false;if(za){ia(function(){if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.openSelector();}else ba.toggle(t.scry(ra.getComponent('mainprivacywidget').element,'.uiSelector')[0]);}.bind(this));if(qa==='delta_everyone'){var cb=(new ka()).setString('type',aa.DELTA_EVERYONE_CHANGE_BUTTON_CLICKED).getURI();new h(cb).send();}}}.bind(this);if(this._newPrivacyWidgetInstance){sa.conversionListener=this._newPrivacyWidgetInstance.subscribe('changed',function(ya,za){var ab=this._newPrivacyWidgetInstance.getSelectedBaseValue();this._logPrivacyReminderConversion(sa,ta,ab);}.bind(this));}else sa.conversionListener=ba.subscribe('select',function(ya,za){if(za.selector==this._privacyWidgetElement.firstChild){var ab=parseInt(ba.getValue(za.option),10);this._logPrivacyReminderConversion(sa,ta,ab);}}.bind(this));sa.events=[u.listen(sa.dialog.getContent(),'click',xa),u.listen(sa.dialog.getContext(),'click',xa)];};pa.prototype._logPrivacyReminderConversion=function(qa,ra,sa){"use strict";if(ra.PRIVACY_CONSTANT.indexOf(sa)===-1){if(ra.LOG_CONVERSION){var ta=(new ka()).setString('type',ra.LOG_CONVERSION).getURI();new h(ta).send();}if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.unsubscribe(qa.conversionListener);}else ba.unsubscribe(qa.conversionListener);qa.conversionListener=null;}};pa.prototype._onSelectorChange=function(qa,ra){"use strict";if(!this.getComponent('mainprivacywidget'))return;if(this._newPrivacyWidgetInstance||(ra.selector===this._privacyWidgetElement.firstChild))setTimeout(function(){Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this);}.bind(this));};pa.prototype.cleanup=function(){"use strict";this._attachmentIsActive=false;if(this._focusListener){this._focusListener.remove();this._focusListener=null;}if(this._clickListener){this._clickListener.remove();this._clickListener=null;}Object.keys(la).forEach(function(qa){var ra=this._privacyReminders[qa];if(ra&&ra.dialog&&ra.shown){ra.dialog.hide();ra.events.forEach(function(sa){sa.remove();});ra.events=[];if(ra.conversionListener)if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.unsubscribe(ra.conversionListener);}else ba.unsubscribe(ra.conversionListener);ra.conversionListener=null;}}.bind(this));if(this._dragdrop){this._dragdrop.deactivate();this._dragdrop=null;}if(this._fullVersion){this._tagger.cleanup();this._privacyWidgetTags.destroy();this._privacyWidgetTags=null;this._scraper.disable();}if(this._dragEnterHandler){this._dragEnterHandler.unsubscribe();this._dragEnterHandler=null;}if(this._pagesComposerEntryLogger)this._pagesComposerEntryLogger.unregister();};pa.prototype.reset=function(){"use strict";var qa=x.byClass(this._root,"child_was_focused");if(qa)r.removeClass(qa,"child_was_focused");if(this._tagger)this._tagger.reset();if(this._scraper)this._scraper.reset();if(this._newPrivacyWidgetInstance)this._newPrivacyWidgetInstance.informTagsChanged([]);this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);};pa.prototype.canSwitchAway=function(){"use strict";return !x.byClass(this._root,'async_saving');};pa.prototype.setBootloadedContent=function(qa){"use strict";this._setEveryonePrivacyImpression=!!qa.set_everyone_privacy_impression;Object.keys(la).forEach(function(sa){var ta=qa[sa+'_privacy_reminder'];if(ta)this._privacyReminders[sa]={dialog:ta};}.bind(this));var ra=qa.placeholders.map(function(sa){return sa.component_name;});q.waitForComponents(this._composerID,ra,function(){var sa=t.find(this._root,"._3-6"),ta=t.find(this._root,"._3-7");s.setContent(sa,qa.markup.tagger_content);s.setContent(ta,qa.markup.tagger_icons);m.addPlaceholders(this._root,this,qa.placeholders);this._tagger=qa.tagger;l.updateMessageBoxBarState(this);this._fullVersion=true;if(this._attachmentIsActive)this._fullInitWithComponents(qa);var ua=s.scry(this._root,"._4-jj");if(this._isEligibleForVerbsNUX(qa)&&ua.length>0){p.onInit(this._config.newverbsNUXDialog,ua[0],p.OGCOMPOSER_NEWVERBS_NUX);this._newVerbsListener=u.listen(ua[0],'click',function(){p.acknowledgeDialog(p.OGCOMPOSER_NEWVERBS_NUX,this._config.newverbsNUXDialog);}.bind(this));}}.bind(this));};pa.prototype._isEligibleForVerbsNUX=function(qa){"use strict";var ra=this.getComponent('maininput');return this._config.newverbsNUXDialog&&!this._privacyReminderShown&&!qa.showed_previous_post_upsell&&!ra.instance.hasAuxContent();};pa.prototype._getScraperEndpoint=function(){"use strict";return da('/ajax/composerx/attachment/link/scraper/');};pa.prototype._onFocus=function(){"use strict";o.logEntry(this._composerID,'status');if(this._fullVersion||this._bootloading)return;g.inform('composer/focus',this._composerID);g.inform('composer/render_pab_nux');m.getEndpoint(this._root,'/ajax/composerx/attachment/status/bootload/',true);this._bootloading=true;};pa.prototype.allowOGTagPreview=function(){"use strict";return true;};pa.prototype._sendSetEveryonePrivacyImpression=function(){"use strict";new h('/ajax/privacy/reminders/set_everyone_privacy_impression').send();};pa.setBootloadedContent=function(qa,ra){"use strict";var sa=ma[qa];if(sa)sa.setBootloadedContent.call(sa,ra);};ea(pa.prototype,{_attachmentIsActive:false,_bootloading:false,_fullVersion:false,_focusListener:null,_privacyWidgetTags:null,_scraper:null,_dragdrop:null,attachmentClassName:"_4j"});e.exports=pa;},null);
__d("ComposerXMentionsInputReset",["DOMQuery","Input"],function(a,b,c,d,e,f,g,h){function i(j){var k=g.scry(j.element,'textarea.input')[0];j.instance.reset();h.reset(k);}e.exports=i;},null);
__d("ComposerXOGTaggerIconReset",["CSS","cx"],function(a,b,c,d,e,f,g,h){function i(j){g.removeClass(j.element,"_4-jh");g.removeClass(j.element,"_509o");}e.exports=i;},null);
__d("ComposerXPrivacyWidgetReset",["Arbiter"],function(a,b,c,d,e,f,g){function h(i){g.inform('Composer/changedtags',{withTags:[],mention:{},eventTag:false});}e.exports=h;},null);
__d("ComposerXTaggerIconReset",["CSS","cx"],function(a,b,c,d,e,f,g,h){function i(j){g.removeClass(j.element,"_1dsa");g.removeClass(j.element,"_1dsb");g.removeClass(j.element,"_509o");}e.exports=i;},null);
__d("legacy:AudienceSelector",["AudienceSelector"],function(a,b,c,d){b('AudienceSelector');},3);
__d("FriendListPrivacyOptions",["Arbiter","AsyncDialog","AsyncRequest","Dialog","DOMQuery","PageTransitions","Parent","SelectorDeprecated","$","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=false,r=false,s=null,t={},u=function(w){if(!Object.keys(t).length)l.registerHandler(function(){t={};q=false;r=false;});var x=w.getAttribute('data-name');t[x]=w;n.listen(w,'select',function(y){var z=y.option,aa=k.find(z,'a.itemAnchor'),ba=aa.getAttribute('data-flid');if(!ba)return;var ca=aa.getAttribute('data-dynamic');if(ca&&q){v.showSmartListNux(z,ba);}else if(!ca&&r)v.showDumbListNux([ba]);});},v={listen:function(w,x,y){var z=p(w);if(!z)return;var aa=m.byClass(z,'audienceSelector');if(aa){u(aa);q=x;r=y;}},showSmartListNux:function(w,x){w=o(w);new i('/ajax/friends/lists/smart_list_publish_nux.php').setData({option_id:w.id,flid:x}).send();q=false;},setContextualDialog:function(w,x){x=o(x);var y=m.byClass(x,'audienceSelector');if(y){w.setContext(y);w.show();var z=g.subscribe('composer/publish',function(){w.hide();});w.subscribe('hide',function(){z.unsubscribe();});}},showDumbListNux:function(w){h.send(new i('/ajax/friends/lists/dumb_list_publish_nux.php').setData({flids:w}));r=false;},showBothListsNux:function(w,x){s=o(w);v.showDumbListNux(x);},setDialogX:function(w){if(!s)return;w.subscribe('hide',function(){v.showSmartListNux(s);s=null;});},setDialog:function(){if(!s)return;var w=j.getCurrent();if(w)w.setCloseHandler(function(){v.showSmartListNux(s);s=null;});}};e.exports=v;},null);
__d("MetaComposerEdDialog",["ARIA","Animation","Arbiter","AsyncRequest","DOM","Ease","Parent","SelectorDeprecated","Vector","copyProperties","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=null;function s(t){this._dialog=t.dialog;this.config=t;this._init();}s.init=function(t){if(r){r.config.show_audience=t.show_audience;t.dialog.destroy();return;}r=new s(t);};p(s.prototype,{_init:function(){i.subscribe('ComposerXStatusAttachment/ready',function(){if(this.config.show_audience){this._sendEducationRequest({},'/ajax/composer/audience/education',this._handlerCustomDuration.bind(this,6000));this.config.show_audience=false;}}.bind(this));if(this.config.show_sticky)i.subscribe('composer/mutate',function(t,u){this._sendEducationRequest({sticky_num:this.config.n_sticky_shown},'/ajax/composer/audience/sticky_education');}.bind(this));if(this.config.show_tags)i.subscribe('SelectedPrivacyOption/changed',function(t,u){this._sendEducationRequest({ids:u.tags,from:'WithTagger',hasEvent:u.hasEvent,type:u.privacy,tag_num:this.config.n_tag_shown},'/ajax/composer/audience/tag_education',this._handler.bind(this));}.bind(this));n.subscribe('open',this._killAnim.bind(this));},_sendEducationRequest:function(t,u,v){if(!this._updateDialogContext())return;this._async&&this._async.abort();this._async=new j(u);this._async.setData(t).setHandler(v).send();},_updateDialogContext:function(){var t=k.scry(document.body,'div.composerAudienceWrapper'),u,v;for(var w=0;w<t.length;w++){u=t[w];v=o.getElementPosition(u);if(u&&v.x>0&&v.y>0){this._dialog.setContext(u);return true;}}return false;},_handler:function(t){this._handlerCustomDuration(1500,t);},_handlerCustomDuration:function(t,u){var v=u.payload;if(!v||!this._updateDialogContext())return;var w=this._dialog.getContent().firstChild;k.setContent(w,v);g.announce(q(w));this._dialog.show();var x=m.byClass(w,'metaComposerUserEd');if(this._anim){this._anim.stop();this._anim=new h(x);}else this._anim=new h(x).from('opacity',0);this._anim.to('opacity',1).ease(l.sineOut).checkpoint().duration(t).checkpoint().to('opacity',0).ease(l.sineOut).checkpoint().ondone(this._killAnim.bind(this)).go();},_killAnim:function(t,u){if(this._anim){this._dialog.hide();this._anim.stop();this._anim=null;}}});e.exports=s;},null);
__d("PrivacySelectorOptionNew",["CSS","DOM","DOMQuery","JSXDOM","MenuSelectableItem","PrivacyConst","csx","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){for(var p in k)if(k.hasOwnProperty(p))r[p]=k[p];var q=k===null?null:k.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=k;function r(s){"use strict";k.call(this,s);this.updateAfterTagExpansion(this._data.hasTags);}r.prototype.getTooltip=function(){"use strict";return this._data.tooltip;};r.prototype.getPostParam=function(){"use strict";return this._data.postParam;};r.prototype.getTriggerIcon=function(){"use strict";return this._data.triggerIcon;};r.prototype.isPublic=function(){"use strict";return this.getPostParam()===l.PostParam.EVERYONE;};r.prototype.isFriends=function(){"use strict";return this.getPostParam()===l.PostParam.FRIENDS;};r.prototype.isBasicOption=function(){"use strict";return true;};r.prototype.isCustomOption=function(){"use strict";return false;};r.prototype.getTagExpansionBehavior=function(){"use strict";return this._data.tagExpansionBehavior;};r.prototype.getBaseValue=function(){"use strict";return this._data.baseValue;};r.prototype.getIndex=function(){"use strict";return this._data.value;};r.prototype.getLoggingEventName=function(){"use strict";switch(this.getPostParam()){case l.PostParam.FRIENDS:return 'click_friends';case l.PostParam.EVERYONE:return 'click_everyone';case l.PostParam.ONLY_ME:return 'click_only_me';case l.PostParam.FRIENDS_MINUS_ACQUAINTANCES:return 'click_friends_except_acquaintances';case l.PostParam.FB_ONLY:return 'click_fb_only';default:return 'click_other';}};r.prototype.updateAfterTagExpansion=function(s){"use strict";var t=this._data.baseLabel;if(s&&this._data.showPlusOnTagExpansion)t=o._("{privacyLabel} (+)",[o.param("privacyLabel",this._data.baseLabel)]);this._setLabel(t);if(s){this._setSubtitle(this._data.optionSubtitleWithTags);}else this._setSubtitle(this._data.optionSubtitle);};r.prototype._setLabel=function(s){"use strict";if(!s)return;var t=i.find(this.getRoot(),"._54nh");t&&h.setContent(t,s);this._data.label=s;};r.prototype._setSubtitle=function(s){"use strict";if(!s)return;var t=i.find(this.getRoot(),"._48u1");t&&h.setContent(t,s);};r.prototype.render=function(){"use strict";var s=q.render.call(this);if(!this._data.isPrimaryOption)return s;var t=i.find(s,"._54nc");t&&g.addClass(t,"_48t_");var u=h.find(s,"._54nh");u&&g.addClass(u,"_48u0");var v=j.div({className:"_48u1"},this._data.optionSubtitle);h.appendContent(t,v);return s;};e.exports=r;},null);
__d("XPrivacySelectorLoggingControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/privacy\/selector\/log\/",{event:{type:"Enum",required:true},render_location:{type:"Int",required:true},content_type:{type:"String",required:true}});},null);
__d("PrivacySelectorCustomOption",["AsyncDialog","AsyncRequest","DataStore","PrivacySelectorOptionNew","XPrivacySelectorLoggingControllerURIBuilder","XPrivacyCustomDialogControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i,j,k,l){for(var m in j)if(j.hasOwnProperty(m))o[m]=j[m];var n=j===null?null:j.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=j;function o(p){"use strict";j.call(this,p);}o.prototype.isBasicOption=function(){"use strict";return false;};o.prototype.isCustomOption=function(){"use strict";return true;};o.prototype.getSelector=function(){"use strict";return this._selector;};o.prototype.setPostParam=function(p){"use strict";this._data.postParam=p;};o.prototype.getLoggingEventName=function(){"use strict";return 'click_custom';};o.prototype.openDialog=function(p){"use strict";if(typeof this._selector==='undefined')this._selector=p;i.set(this._data.id,'PrivacySelectorCustomOption',this);var q=new l().setString('option_id',this._data.id).setString('id',this._data.privacyfbid.toString()).setString('post_param',p.getPostParam()).setString('content_type',p.getContentType()).setInt('render_location',p.getRenderLocation()).setIntVector('tags',p.getTags()).setBool('autosave',this._data.autosave).setBool('limit_community',this._data.limitcommunity).setBool('limit_facebook',this._data.limitfacebook).setBool('limit_fof',this._data.limitfof).setBool('limit_tagexpand',this._data.limittagexpand).setBool('is_new_privacy_selector',true).setString('tag_expansion_button',p.getTagExpansionButton()).getURI(),r=new h(q);g.send(r,function(s){var t=function(u){var v=new k().setEnum('event',u).setInt('render_location',document.getElementsByName('render_location')[0].value).setString('content_type',document.getElementsByName('content_type')[0].value).getURI();new h().setURI(v).send();};s.subscribe('hide',function(){p.inform('custom/hide');p.inform('selectorFinished');});s.subscribe('success',function(){p.inform('custom/success');t('custom_save');});s.subscribe('cancel',function(){p.inform('custom/cancel');t('custom_cancel');});});};o.customPrivacySave=function(p,q,r){"use strict";var s=i.get(p,'PrivacySelectorCustomOption');s.getSelector().updateDataForItemIndex(s.getIndex(),q,r);s.getSelector().setValue(s.getIndex());i.remove(p,'PrivacySelectorCustomOption');};e.exports=o;},null);
__d("PrivacySelectableMenu",["AsyncRequest","CSS","DOM","Ease","PrivacySelectorCustomOption","PrivacySelectorOptionNew","SelectableMenu","SelectableMenuUtils","XPrivacySelectorLoggingControllerURIBuilder","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){for(var r in m)if(m.hasOwnProperty(r))t[r]=m[r];var s=m===null?null:m.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=m;function t(u,v){"use strict";m.call(this,u,v);}t.prototype.getItemForIndex=function(u){"use strict";for(var v=0;v<this._items.length;v++){var w=this._items[v];if(w instanceof l&&w.getIndex()==u)return w;}return null;};t.prototype.selectOption=function(u){"use strict";var v=null,w=this._items.some(function(x){if(x instanceof l&&!x.isCustomOption()&&x.getPostParam()==u){this.setValue(x.getIndex());return true;}if(x instanceof k){v=x;return false;}if(this._isMoreOption(x)){this.expandMenu(x.getRoot());return false;}},this);if(!w&&v){v.setPostParam(u);this.setValue(v.getIndex());}};t.prototype._isMoreOption=function(u){"use strict";return h.hasClass(u.getRoot(),"_2myv");};t.prototype._handleItemClick=function(u,v){"use strict";if(!n.doesItemSupportSelect(u))return s._handleItemClick.call(this,u,v);if(this._isMoreOption(u)){this._logMoreClick();this.expandMenu(u.getRoot());return;}this._logOptionClick(u);var w=this.inform('itemclick',{item:u,event:v});if(w)return;if(!n.isSelected(u)&&!u.isCustomOption()&&u.select()!==false){this._items.forEach(function(x){if(n.isSelected(x)&&x!==u)x.deselect();});this.inform('change',this.getSelection());}this.done();return u.handleClick();};t.prototype._logMoreClick=function(){"use strict";var u=new o().setEnum('event','more_options').setInt('render_location',this._config.renderlocation).setString('content_type',this._config.contenttype).getURI();new g().setURI(u).send();};t.prototype._logOptionClick=function(u){"use strict";var v=new o().setEnum('event',u.getLoggingEventName()).setInt('render_location',this._config.renderlocation).setString('content_type',this._config.contenttype).getURI();new g().setURI(v).send();};t.prototype.expandMenu=function(u){"use strict";if(!u)u=i.scry(this._items[0].getRoot().parentNode,"._2myv")[0];this.forEachItem(function(v){h.removeClass(v.getRoot(),'hidden_elem');});h.addClass(u,'hidden_elem');};t.prototype.collapseMenu=function(){"use strict";this.forEachItem(function(u){var v=h.hasClass(u.getRoot(),"privacySelectorOptions/belowFold");h.conditionClass(u.getRoot(),'hidden_elem',v);});};t.prototype.updateOptionsAfterTagExpansion=function(u){"use strict";this.forEachItem(function(v){if(v instanceof l)v.updateAfterTagExpansion(u);});};t.prototype.onPopoverOpen=function(u){"use strict";if(this._items.indexOf(u)>=15)setTimeout(function(){this._scrollableArea.scrollToBottom(true,{duration:1000,ease:j.sineOut});}.bind(this),250);};e.exports=t;},null);
__d("PopoverButton",["DOM","DOMQuery","csx"],function(a,b,c,d,e,f,g,h,i){var j={setLabel:function(k,l){var m=h.find(k,"._55pe"),n=m.childNodes;for(var o=0;o<n.length;o++)if(h.isTextNode(n[o])){g.replace(n[o],l);return;}g.appendContent(m,l);}};e.exports=j;},null);
__d("PrivacySelectorNewDispatcher",["Dispatcher","copyProperties","merge"],function(a,b,c,d,e,f,g,h,i){var j='selector',k=h(new g(),{handleUpdateFromSelector:function(l){this.dispatch(i({payloadSource:j},l));}});e.exports=k;},null);
__d("PrivacySelectorDataStore",["ArbiterMixin","merge","PrivacySelectorNewDispatcher","KeyedCallbackManager"],function(a,b,c,d,e,f,g,h,i,j){var k=new j(),l=h(g,{get:function(m,n){k.executeOrEnqueue(m,n);},hasValueChanged:function(m){return !!k.getResource(m);}});i.register(function(m){if(m.selector_type){var n={};n[m.selector_type]={post_param:m.post_param,unique_id:m.unique_id};k.addResourcesAndExecute(n);l.inform('change');}});e.exports=l;},null);
__d("XPrivacySelectorUpdateControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/privacy\/selector\/update\/",{privacy_fbid:{type:"Int",required:true},post_param:{type:"String",required:true},tags:{type:"IntVector"},render_location:{type:"Int",required:true},is_saved_on_select:{type:"Bool"},should_return_tooltip:{type:"Bool"},prefix_tooltip_with_app_privacy:{type:"Bool"},ent_id:{type:"Int",required:true},tag_expansion_button:{type:"String"}});},null);
__d("PrivacySelectorBase",["ArbiterMixin","AsyncRequest","Button","CSS","CurrentUser","Input","MenuSelectableItem","PopoverButton","PopoverLoadingMenu","DataStore","PrivacySelectorNewDispatcher","PrivacySelectorDataStore","PrivacySelectableMenu","TagExpansionButtonConfig","Tooltip","XPrivacySelectorLoggingControllerURIBuilder","XPrivacySelectorUpdateControllerURIBuilder","bind","csx","fbt","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba=aa(g);for(var ca in ba)if(ba.hasOwnProperty(ca))ea[ca]=ba[ca];var da=ba===null?null:ba.prototype;ea.prototype=Object.create(da);ea.prototype.constructor=ea;ea.__superConstructor__=ba;function ea(fa,ga,ha,ia,ja,ka){"use strict";p.set(fa,'selector',this);this._root=fa;this._button=ga;this._config=ka;this._menu=ha;this._popoverMenu=ja;this._input=ia;this._isSavedOnSelect=ka.is_saved_on_select;this._privacyFBID=ka.privacy_fbid;this._contentType=ka.content_type;this._renderLocation=ka.render_location;this._supportsTagExpansion=ka.supports_tag_expansion;this._prefixTooltipApps=ka.should_prefix_tooltip_apps;this._shouldDisplayLabel=ka.should_display_label;this._tags=ka.tagged_uids;this._hasTags=!!this._tags;this._entID=ka.ent_id;this._popover=this._popoverMenu.getPopover();this._receivingUpdate=false;this._initTagExpansionButtonState();if(ka.use_async_menu){this._popoverMenu.subscribe('setMenu',function(){this._menu=this._popoverMenu.getMenu();if(!(this._menu instanceof s))return;this._onMenuLoad();this._onPopoverOpen();this.inform('asyncMenuLoaded');}.bind(this));}else this._onMenuLoad();if(ka.selector_sync_key){this._selectorSyncKey=ka.selector_sync_key.toString();r.subscribe('change',function(){r.get(this._selectorSyncKey,function(la){if(la.unique_id!==this._menu._config.id){this._receivingUpdate=true;this.selectOption(la.post_param);}}.bind(this));}.bind(this));this._menu.subscribe('change',function(){if(!this._receivingUpdate){var la=this._getSelectedOption();q.handleUpdateFromSelector({selector_type:this._selectorSyncKey,post_param:la.getPostParam().toString(),unique_id:this._menu._config.id});}else this._receivingUpdate=false;}.bind(this));}}ea.prototype.getIsPublicSelected=function(){"use strict";return this._selectedOption.isPublic();};ea.prototype.getIsFriendsSelected=function(){"use strict";return this._selectedOption.isFriends();};ea.prototype.getSelectedBaseValue=function(){"use strict";return this._selectedOption.getBaseValue();};ea.prototype.setValue=function(fa){"use strict";this._menu.setValue(fa);};ea.prototype.openSelectorExpanded=function(fa){"use strict";this.openSelector(function(){this._menu.expandMenu();fa&&fa();}.bind(this));};ea.prototype.openSelector=function(fa){"use strict";if(this._menu instanceof o){this.subscribeOnce('asyncMenuLoaded',function(){fa&&fa();}.bind(this));this._popover.showLayer();}else{this._popover.showLayer();fa&&fa();}this.inform('open');};ea.prototype.closeSelector=function(){"use strict";this._popover.hideLayer();};ea.prototype.getPopover=function(){"use strict";return this._popover;};ea.prototype.getTriggerButtonElement=function(){"use strict";return this._button;};ea.prototype.getMenuElement=function(){"use strict";return this._menu.getRoot();};ea.prototype.selectOption=function(fa){"use strict";if(!fa)return;if(this._menu instanceof o){this.subscribeOnce('asyncMenuLoaded',this._selectOptionImpl.bind(this,fa));this._fetchAsyncMenu();}else this._selectOptionImpl(fa);};ea.prototype._selectOptionImpl=function(fa){"use strict";this._menu.selectOption(fa);this._selectedOption=this._getSelectedOption();this.updateDataForItemIndex(this._selectedOption.getIndex(),this._selectedOption.getPostParam().toString());};ea.prototype.setTagExpansionButton=function(fa){"use strict";this._tagExpansionButton=fa;if(this._hasTags){this._menu.updateOptionsAfterTagExpansion(this._showTagExpansion());this._updateTriggerButtonLabel();this._updateTooltipAfterChange();}};ea.prototype.getTagExpansionButton=function(){"use strict";return this._tagExpansionButton;};ea.prototype._initTagExpansionButtonState=function(){"use strict";this._tagExpansionButton=t.FRIENDS_OF_TAGGED;var fa=this._getSelectedOption();if(!fa)return;var ga=JSON.parse(fa.getPostParam());if(ga.settings&&ga.settings.no_tag_expansion===true){this._tagExpansionButton=t.TAGGED_ONLY;}else this._tagExpansionButton=t.FRIENDS_OF_TAGGED;};ea.prototype._fetchAsyncMenu=function(){"use strict";if(this._config.use_async_menu)this._popoverMenu.fetchMenu();};ea.prototype._getSelectedOption=function(){"use strict";if(!(this._menu instanceof s))return;var fa;this._menu.forEachItem(function(ga){if(ga instanceof m&&ga.isSelected())fa=ga;}.bind(this));return fa;};ea.prototype._onItemClick=function(fa,ga){"use strict";var ha=ga.item;if(ha.isBasicOption()){this.updateDataForItemIndex(ha.getIndex(),ha.getPostParam().toString());}else if(ha.isCustomOption()){this._closeForCustom=true;ha.openDialog(this);}this.inform('click',{customSelected:ha.isCustomOption()});};ea.prototype.getContentType=function(){"use strict";return this._contentType;};ea.prototype.getRenderLocation=function(){"use strict";return this._renderLocation;};ea.prototype.getPostParam=function(){"use strict";return this._postParam;};ea.prototype.getTags=function(){"use strict";return this._tags;};ea.prototype.updateDataForItemIndex=function(fa,ga,ha){"use strict";if(ha){this._tagExpansionButton=ha;this.inform('CustomTagExpansion',this._tagExpansionButton);}var ia=this._menu.getItemForIndex(fa);if(ia.isCustomOption())ia.setPostParam(ga);this._selectedOption=ia;this._postParam=ga;l.setValue(this._input,ga);this._updateTriggerButtonLabel();if(this._shouldUpdateTooltips()){this._updateTooltipAfterChange();}else{if(this._isSavedOnSelect)this._savePrivacy();this._setTooltipValue(this._selectedOption.getTooltip());}this.inform('changed',{post_param:this._postParam,base_value:this.getSelectedBaseValue()});};ea.prototype._shouldUpdateTooltips=function(){"use strict";return this._prefixTooltipApps||this._supportsTagExpansion;};ea.prototype._savePrivacy=function(){"use strict";this._sendUpdateRequest();};ea.prototype._sendUpdateRequest=function(){"use strict";var fa=new w().setInt('privacy_fbid',this._privacyFBID).setString('post_param',this._postParam).setIntVector('tags',this._tags).setInt('render_location',this._renderLocation).setBool('is_saved_on_select',this._isSavedOnSelect).setBool('should_return_tooltip',this._shouldUpdateTooltips()).setBool('prefix_tooltip_with_app_privacy',this._prefixTooltipApps).setInt('ent_id',this._entID).setString('tag_expansion_button',this._tagExpansionButton).getURI();new h().setRelativeTo(this._button).setHandler(x(this,function(ga){var ha=ga&&ga.payload&&ga.payload.tooltip;ha&&this._setTooltipValue(ga.payload.tooltip);})).setURI(fa).send();};ea.prototype.informTagsChanged=function(fa){"use strict";var ga=this._getTags(fa);if(this._hasTags===!ga.length){this._hasTags=!!ga.length;this._menu.updateOptionsAfterTagExpansion(this._showTagExpansion());this._updateTriggerButtonLabel();}if(this._tags.length!==ga.length){this._tags=ga;this._updateTooltipAfterChange();}};ea.prototype._showTagExpansion=function(){"use strict";return this._hasTags&&(this._tagExpansionButton.valueOf()===t.FRIENDS_OF_TAGGED.valueOf());};ea.prototype._getTags=function(fa){"use strict";var ga=[],ha=k.getID();if(fa.withTags)for(var ia=0;ia<fa.withTags.length;ia++){var ja=fa.withTags[ia].info;if(ja.uid!=ha)ga.push(ja.uid);}if(fa.mention)for(var ka in fa.mention)if(fa.mention[ka].type=='user'&&fa.mention[ka].uid!=ha)ga.push(fa.mention[ka].uid);return ga;};ea.prototype._updateTriggerButtonLabel=function(){"use strict";var fa=this._selectedOption.getTriggerIcon();i.setIcon(this._button,fa.cloneNode());if(!this._shouldDisplayLabel)return;n.setLabel(this._button,this._selectedOption.getLabel());};ea.prototype._updateTooltipAfterChange=function(){"use strict";var fa="Loading...";this._setTooltipValue(fa);this._sendUpdateRequest();};ea.prototype._setTooltipValue=function(fa){"use strict";fa&&u.set(this._button,fa);};ea.prototype._onPopoverClose=function(){"use strict";if(!this._getSelectedOption())return;var fa=this._getSelectedOption().getRoot(),ga=j.hasClass(fa,"privacySelectorOptions/belowFold");if(!ga)this._menu.collapseMenu();if(this._closeForCustom){this._closeForCustom=false;}else this.inform('selectorFinished');this.inform('close');};ea.prototype._onPopoverOpen=function(){"use strict";if(!(this._menu instanceof s))return;this._menu.onPopoverOpen(this._getSelectedOption());var fa=new v().setEnum('event','opened').setInt('render_location',this._renderLocation).setString('content_type',this._contentType).getURI();new h().setURI(fa).send();};ea.prototype._onMenuLoad=function(){"use strict";this._menu.subscribe('itemclick',this._onItemClick.bind(this));this._popover.subscribe('hide',this._onPopoverClose.bind(this));this._popover.subscribe('show',this._onPopoverOpen.bind(this));this._selectedOption=this._getSelectedOption();if(this._selectedOption){this._postParam=this._selectedOption.getPostParam().toString();this._hasTags&&this._updateTriggerButtonLabel();}};e.exports=ea;},null);
__d("MenuStaticItem",["DOM","MenuItemBase","React","copyProperties","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l){for(var m in h)if(h.hasOwnProperty(m))o[m]=h[m];var n=h===null?null:h.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=h;function o(p){"use strict";h.call(this);this._data=p;}o.prototype._renderItemContent=function(){"use strict";var p=g.create('span',{className:"_54nc _54ah"});if(this._data.children){i.renderComponent(i.createElement(i.DOM.span,{className:"_54nh"},this._data.children),p);}else g.setContent(p,g.create('span',{className:"_54nh"},this._data.markup));return p;};j(o.prototype,{handleClick:l});e.exports=o;},null);
__d("legacy:DynamicIconSelector",["DynamicIconSelector"],function(a,b,c,d){a.DynamicIconSelector=b('DynamicIconSelector');},3);
__d("MentionsTypeaheadAreaView",["ContextualTypeaheadView","Parent"],function(a,b,c,d,e,f,g,h){for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(){"use strict";if(g!==null)g.apply(this,arguments);}k.prototype.getContext=function(){"use strict";return h.byClass(this.element,'uiMentionsInput');};e.exports=k;},null);