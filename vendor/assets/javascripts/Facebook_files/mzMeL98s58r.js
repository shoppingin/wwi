/*!CK:2538693834!*//*1409647056,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["VisbI"]); }

__d("ProfileTypeaheadChecklist.react",["React","ProfileChecklist.react","ProfileMaskedTypeahead.react","ProfileTypeaheadContainer.react","XUITypeahead.react"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.PropTypes,m=g.createClass({displayName:'ProfileTypeaheadChecklist',propTypes:{excludedEntries:l.object,placeholder:l.string.isRequired,requireSelection:l.bool,searchSource:l.object.isRequired,typeaheadName:l.string,queryName:function(n,o,p){if(!n.multiSelect&&!n[o])return new Error(("Must supply a query name to "+p+" for ")+("single-selection mode."));}},getDefaultProps:function(){return {overflow:'scroll'};},getInitialState:function(){return {queryString:''};},render:function(){var n=null;if(this.props.multiSelect){n=g.createElement(k,{excludedEntries:this.props.excludedEntries,onBlur:this._typeaheadBlurHandler,onChange:this._typeaheadChangeHandler,ref:"typeahead",queryString:this.state.queryString});}else n=g.createElement(i,{ref:"typeahead",requireSelection:this.props.requireSelection,selectionName:this.props.typeaheadName,queryName:this.props.queryName});n.props.onSelectAttempt=this._selectHandler;n.props.placeholder=this.props.placeholder;n.props.searchSource=this.props.searchSource;return (g.createElement(g.DOM.div,{className:this.props.className},g.createElement(h,Object.assign({},this.props,{onChange:this._checklistChangeHandler,ref:"checklist"})),g.createElement(j,null,n)));},clearSelection:function(){return this.refs.checklist.clearSelection();},getSelection:function(){return this.refs.checklist.getSelection();},_checklistChangeHandler:function(){this.props.multiSelect||this.refs.typeahead.clearSelection();},_selectHandler:function(n){if(!n)return;if(!this.props.multiSelect){this.refs.checklist.clearSelection();return;}this.refs.checklist.addOption(n.getUniqueID(),n.getTitle(),n.getSubtitle(),n.getPhoto(),true,this.props.typeaheadName);this.setState({queryString:''});setTimeout(function(){this.refs.checklist.scrollToOption(n.getUniqueID());}.bind(this),0);},_typeaheadBlurHandler:function(){this.props.requireSelection&&this.setState({queryString:''});},_typeaheadChangeHandler:function(event){this.setState({queryString:event.target.value});}});e.exports=m;},null);